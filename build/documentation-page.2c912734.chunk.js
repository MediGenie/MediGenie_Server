"use strict";(self.webpackChunkmedigenie_app=self.webpackChunkmedigenie_app||[]).push([[9789],{75730:(C,g,t)=>{t.r(g),t.d(g,{default:()=>b});var e=t(67294),l=t(86896),n=t(84338),m=t(64593),p=t(17034),y=t(49066),T=t(41580),d=t(185),E=t(53979),P=t(29728),A=t(38939),O=t(8060),R=t(79031),f=t(37909),a=t(75515),i=t(15234),r=t(11047),s=t(12028),u=t(8934),D=t(30815),o=t(20022),v=t(80826),M=t(93742);const $=h=>{const x=(()=>h.startsWith("/")?`${strapi.backendURL}${h}`:h.startsWith("http")?h:`${strapi.backendURL}/${h}`)();return window.open(x,"_blank"),window.focus()};var S=t(90306);const b=()=>{(0,n.go)();const{formatMessage:h}=(0,l.Z)(),{data:x,isLoading:I,isError:N,deleteMutation:H,regenerateDocMutation:V}=(0,S.Z)(),[B,j]=(0,e.useState)(!1),[Q,Z]=(0,e.useState)(!1),[z,F]=(0,e.useState)(),X=4,G=(x?.docVersions?.length||0)+1,U=c=>{const W=x?.prefix.startsWith("/")?"":"/";$(`${W}${x?.prefix}/v${c}`)},Y=c=>{V.mutate({version:c,prefix:x?.prefix})},J=()=>{j(!B)},w=async()=>{Z(!0),await H.mutateAsync({prefix:x?.prefix,version:z}),j(!B),Z(!1)},k=c=>{F(c),j(!B)},K=h({id:(0,M.O)("plugin.name"),defaultMessage:"Documentation"});return N?e.createElement(p.A,null,e.createElement(y.D,null,e.createElement(T.x,{paddingTop:8},e.createElement(n.Hn,null)))):e.createElement(p.A,null,e.createElement(m.q,{title:K}),e.createElement(d.o,{"aria-busy":I},e.createElement(E.T,{title:K,subtitle:h({id:(0,M.O)("pages.PluginPage.header.description"),defaultMessage:"Configure the documentation plugin"}),primaryAction:e.createElement(n.jW,{permissions:v.Z.open},e.createElement(P.z,{onClick:()=>U(x?.currentVersion),startIcon:e.createElement(u.Z,null)},h({id:(0,M.O)("pages.PluginPage.Button.open"),defaultMessage:"Open Documentation"})))}),e.createElement(y.D,null,I&&e.createElement(n.dO,null,"Plugin is loading"),x?.docVersions.length?e.createElement(A.i,{colCount:X,rowCount:G},e.createElement(O.h,null,e.createElement(R.Tr,null,e.createElement(f.Th,null,e.createElement(a.Z,{variant:"sigma",textColor:"neutral600"},h({id:(0,M.O)("pages.PluginPage.table.version"),defaultMessage:"Version"}))),e.createElement(f.Th,null,e.createElement(a.Z,{variant:"sigma",textColor:"neutral600"},h({id:(0,M.O)("pages.PluginPage.table.generated"),defaultMessage:"Last Generated"}))))),e.createElement(i.p,null,x.docVersions.sort((c,W)=>c.generatedDate<W.generatedDate?1:-1).map(c=>e.createElement(R.Tr,{key:c.version},e.createElement(f.Td,{width:"50%"},e.createElement(a.Z,null,c.version)),e.createElement(f.Td,{width:"50%"},e.createElement(a.Z,null,c.generatedDate)),e.createElement(f.Td,null,e.createElement(r.k,{justifyContent:"end",...n.UW},e.createElement(s.h,{onClick:()=>U(c.version),noBorder:!0,icon:e.createElement(u.Z,null),label:h({id:(0,M.O)("pages.PluginPage.table.icon.show"),defaultMessage:"Open {target}"},{target:`${c.version}`})}),e.createElement(n.jW,{permissions:v.Z.regenerate},e.createElement(s.h,{onClick:()=>Y(c.version),noBorder:!0,icon:e.createElement(D.Z,null),label:h({id:(0,M.O)("pages.PluginPage.table.icon.regenerate"),defaultMessage:"Regenerate {target}"},{target:`${c.version}`})})),e.createElement(n.jW,{permissions:v.Z.update},c.version!==x.currentVersion&&e.createElement(s.h,{onClick:()=>k(c.version),noBorder:!0,icon:e.createElement(o.Z,null),label:h({id:"global.delete-target",defaultMessage:"Delete {target}"},{target:`${c.version}`})})))))))):e.createElement(n.x7,null)),e.createElement(n.QH,{isConfirmButtonLoading:Q,onConfirm:w,onToggleDialog:J,isOpen:B})))}},90306:(C,g,t)=>{t.d(g,{Z:()=>y});var e=t(88767),l=t(84338),n=t(49950),m=t(798);const y=()=>{const T=(0,e.useQueryClient)(),d=(0,l.lm)(),{isLoading:E,isError:P,data:A}=(0,e.useQuery)(["get-documentation",n.Z],async()=>{try{const{data:o}=await a(`/${n.Z}/getInfos`);return o}catch{return d({type:"warning",message:{id:"notification.error"}}),null}}),{del:O,post:R,put:f,get:a}=(0,l.kY)(),i=o=>{d({type:"warning",message:o.response.payload.message})},r=(o,v)=>{T.invalidateQueries("get-documentation"),d({type:o,message:{id:(0,m.Z)(v)}})},s=(0,e.useMutation)(({prefix:o,version:v})=>O(`${o}/deleteDoc/${v}`),{onSuccess:()=>r("info","notification.delete.success"),onError:o=>i(o)}),u=(0,e.useMutation)(({prefix:o,body:v})=>f(`${o}/updateSettings`,v),{onSuccess:()=>r("success","notification.update.success"),onError:i}),D=(0,e.useMutation)(({prefix:o,version:v})=>R(`${o}/regenerateDoc`,{version:v}),{onSuccess:()=>r("info","notification.generate.success"),onError:o=>i(o)});return{data:A,isLoading:E,isError:P,deleteMutation:s,submitMutation:u,regenerateDocMutation:D}}},798:(C,g,t)=>{t.d(g,{Z:()=>n});var e=t(49950);const n=m=>`${e.Z}.${m}`},93742:(C,g,t)=>{t.d(g,{O:()=>e.Z});var e=t(798)},49066:(C,g,t)=>{t.d(g,{D:()=>p});var e=t(85893),l=t(67294),n=t(45697),m=t(41580);const p=({children:y})=>(0,e.jsx)(m.x,{paddingLeft:10,paddingRight:10,children:y});p.propTypes={children:n.node.isRequired}},53979:(C,g,t)=>{t.d(g,{T:()=>O});var e=t(85893),l=t(67294),n=t(45697),m=t(71997);const p=a=>{const i=(0,l.useRef)(null),[r,s]=(0,l.useState)(!0),u=([D])=>{s(D.isIntersecting)};return(0,l.useEffect)(()=>{const D=i.current,o=new IntersectionObserver(u,a);return D&&o.observe(i.current),()=>{D&&o.disconnect()}},[i,a]),[i,r]};var y=t(95355);const T=(a,i)=>{const r=(0,y.W)(i);(0,l.useLayoutEffect)(()=>{const s=new ResizeObserver(r);return Array.isArray(a)?a.forEach(u=>{u.current&&s.observe(u.current)}):a.current&&s.observe(a.current),()=>{s.disconnect()}},[a,r])};var d=t(41580),E=t(11047),P=t(75515);const A=()=>{const a=(0,l.useRef)(null),[i,r]=(0,l.useState)(null),[s,u]=p({root:null,rootMargin:"0px",threshold:0});return T(s,()=>{s.current&&r(s.current.getBoundingClientRect())}),(0,l.useEffect)(()=>{a.current&&r(a.current.getBoundingClientRect())},[a]),{containerRef:s,isVisible:u,baseHeaderLayoutRef:a,headerSize:i}},O=a=>{const{containerRef:i,isVisible:r,baseHeaderLayoutRef:s,headerSize:u}=A();return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{height:u?.height},ref:i,children:r&&(0,e.jsx)(f,{ref:s,...a})}),!r&&(0,e.jsx)(f,{...a,sticky:!0,width:u?.width})]})};O.displayName="HeaderLayout";const R=(0,m.ZP)(d.x)`
  width: ${a=>a.width}px;
  z-index: ${({theme:a})=>a.zIndices[1]};
`,f=l.forwardRef(({navigationAction:a,primaryAction:i,secondaryAction:r,subtitle:s,title:u,sticky:D,width:o,...v},M)=>{const L=typeof s=="string";return D?(0,e.jsx)(R,{paddingLeft:6,paddingRight:6,paddingTop:3,paddingBottom:3,position:"fixed",top:0,right:0,background:"neutral0",shadow:"tableShadow",width:o,"data-strapi-header-sticky":!0,children:(0,e.jsxs)(E.k,{justifyContent:"space-between",children:[(0,e.jsxs)(E.k,{children:[a&&(0,e.jsx)(d.x,{paddingRight:3,children:a}),(0,e.jsxs)(d.x,{children:[(0,e.jsx)(P.Z,{variant:"beta",as:"h1",...v,children:u}),L?(0,e.jsx)(P.Z,{variant:"pi",textColor:"neutral600",children:s}):s]}),r?(0,e.jsx)(d.x,{paddingLeft:4,children:r}):null]}),(0,e.jsx)(E.k,{children:i?(0,e.jsx)(d.x,{paddingLeft:2,children:i}):void 0})]})}):(0,e.jsxs)(d.x,{ref:M,paddingLeft:10,paddingRight:10,paddingBottom:8,paddingTop:a?6:8,background:"neutral100","data-strapi-header":!0,children:[a?(0,e.jsx)(d.x,{paddingBottom:2,children:a}):null,(0,e.jsxs)(E.k,{justifyContent:"space-between",children:[(0,e.jsxs)(E.k,{minWidth:0,children:[(0,e.jsx)(P.Z,{as:"h1",variant:"alpha",...v,children:u}),r?(0,e.jsx)(d.x,{paddingLeft:4,children:r}):null]}),i]}),L?(0,e.jsx)(P.Z,{variant:"epsilon",textColor:"neutral600",as:"p",children:s}):s]})});f.displayName="BaseHeaderLayout",f.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0,sticky:!1,width:void 0},f.propTypes={navigationAction:n.node,primaryAction:n.node,secondaryAction:n.node,sticky:n.bool,subtitle:n.oneOfType([n.string,n.node]),title:n.string.isRequired,width:n.number},O.defaultProps={navigationAction:void 0,primaryAction:void 0,secondaryAction:void 0,subtitle:void 0},O.propTypes={navigationAction:n.node,primaryAction:n.node,secondaryAction:n.node,subtitle:n.oneOfType([n.string,n.node]),title:n.string.isRequired}},17034:(C,g,t)=>{t.d(g,{A:()=>d});var e=t(85893),l=t(67294),n=t(45697),m=t(71997),p=t(41580);const y=(0,m.ZP)(p.x)`
  display: grid;
  grid-template-columns: ${({hasSideNav:E})=>E?"auto 1fr":"1fr"};
`,T=(0,m.ZP)(p.x)`
  overflow-x: hidden;
`,d=({sideNav:E,children:P})=>(0,e.jsxs)(y,{hasSideNav:!!E,children:[E,(0,e.jsx)(T,{paddingBottom:10,children:P})]});d.defaultProps={sideNav:void 0},d.propTypes={children:n.node.isRequired,sideNav:n.node}},185:(C,g,t)=>{t.d(g,{o:()=>p});var e=t(85893),l=t(71997),n=t(41580);const m=(0,l.ZP)(n.x)`
  // To prevent global outline on focus visible to force an outline when Main is focused
  &:focus-visible {
    outline: none;
  }
`,p=({labelledBy:y="main-content-title",...T})=>(0,e.jsx)(m,{"aria-labelledby":y,as:"main",id:"main-content",tabIndex:-1,...T})}}]);
